# The Grand Tour Gamble — Cursor Build Prompts & README Guide

This document includes:
1. ✅ **Cursor Prompts for All Key Components** (step-by-step for Claude / GPT inside Cursor)
2. 📘 **README Dev Guide** for setup, database, and contribution flow

---

## ✅ 1. CURSOR PROMPTS FOR COMPONENT BUILDS

These prompts are for Cursor's built-in AI to scaffold and help complete each module.

### 🟦 CyclistCard.tsx
```txt
You are building a React component in Next.js using Tailwind. The component is `CyclistCard.tsx`.
Display the cyclist's avatar (top-left), name, stats (stamina, fatigue), and a button that toggles a backstory modal. Import data via props. No hardcoding.
```

### 🟦 DecisionButtons.tsx
```txt
Create a component with two buttons: Sprint and Cruise. Each button updates local state and triggers an onClick prop. If stamina is 0, disable Sprint. Highlight the selected state. Tailwind styling only.
```

### 🟦 StageMap.tsx
```txt
Render a horizontal list of 10 stages. Highlight the current stage with a border or color. Pull current stage from props. Responsive layout for mobile.
```

### 🟦 StaminaBar.tsx
```txt
Create a horizontal stamina bar showing 0 to 5 stamina blocks. Filled blocks = current stamina. Tailwind styles. Include tooltip: "Stamina recovers when you Cruise."
```

### 🟦 TeamScoreboard.tsx
```txt
Build a live scoreboard table that shows each team's name, total points, and their four cyclists' scores. Data is pulled via Supabase query (simulated for now). Sort by highest team score.
```

### 🟦 ReflectionModal.tsx
```txt
Design a visual-only modal that says: "Reflection Time — No action needed. Discuss your group’s decision." Include a close button. Should show after stage ends.
```

### 🟦 NegotiationChat.tsx
```txt
Simple chatroom box with username + message. Connects to Supabase `negotiations` table. Trainer toggles visibility per stage. Messages are only persisted for that stage.
```

### 🟦 MultiplierBadge.tsx
```txt
Display the current point multiplier as a badge: x1, x1.5, or x2. Pull from props. Style with Tailwind — green for bonus multipliers.
```

---

## 📘 2. DEV README GUIDE

### 🚀 Project Setup

```bash
git clone [repo-url]
cd grand-tour-gamble
npm install
```

#### 🔧 Environment Variables (.env.local)
```
NEXT_PUBLIC_SUPABASE_URL=...
NEXT_PUBLIC_SUPABASE_ANON_KEY=...
```

---

### 📦 Supabase Tables Required
| Table | Description |
|-------|-------------|
| `sessions` | Holds game session metadata |
| `cyclists` | All cyclist info, linked to teams |
| `teams` | Rubicon, Solaris, Corex, Vortex |
| `users` | Authenticated users, each linked to cyclist |
| `decisions_log` | Sprint/Cruise decisions |
| `negotiations` | Chat entries & status per stage |
| `reflections` | Visual marker only, no text |

Refer to `supabase_schema.txt` for exact schema.

---

### 📄 Markdown-Driven Content
| Filename | Purpose |
|----------|---------|
| `game-history.md` | Game backstory |
| `game-rules.md` | Scoring, stamina, synergy rules |
| `game-debrief.md` | End reflection content |
| `cyclists.md` | Backstories for each character |

Use MDX or remark parser to load in frontend.

---

### 🧪 Testing Checklist
- [ ] Can log in and join with a cyclist code
- [ ] Decision buttons work and persist
- [ ] Stamina updates correctly
- [ ] Scoreboard syncs after stage
- [ ] Negotiation multiplier shown when applicable
- [ ] Reflection and debrief display post-stage

---

### 🔁 Contribution Best Practices
- Atomic components only
- Use Supabase hooks (`useSupabaseClient`)
- Never hardcode logic or stage numbers
- Favor `.txt` and `.md` content for reusability

---

Let me know when you want to:
- Add Vercel + Supabase deployment script
- Scaffold testing functions with Jest
- Integrate mobile UX polish

You’re now set to run. 💪
